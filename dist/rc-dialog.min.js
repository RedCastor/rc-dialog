!function(e){"use strict";angular.module("rcDialog",[])}(),function(n){"use strict";n.module("rcDialog").directive("rcdOpen",["rcDialog",function(c){return{restrict:"EAC",replace:!1,scope:{rcdTemplate:"@",rcdTemplateUrl:"@",rcdSize:"@",rcdAnimation:"=",rcdBackdrop:"=",rcdEscClose:"=",rcdClickClose:"=",rcdAutoClose:"=",rcdClass:"@",rcdSelectedView:"=",rcdData:"=?",rcdTrigger:"@",rcdTriggerValue:"@",rcdTriggerDisabled:"<"},link:function(e,i,t){var o={theme:n.isDefined(t.rcdOpen)?t.rcdOpen:"",template:n.isDefined(e.rcdTemplate)?e.rcdTemplate:"",templateUrl:n.isDefined(e.rcdTemplateUrl)?e.rcdTemplateUrl:"",size:n.isDefined(e.rcdSize)?e.rcdSize:"large",animation:!n.isDefined(e.rcdAnimation)||e.rcdAnimation,backdrop:!n.isDefined(e.rcdBackdrop)||e.rcdBackdrop,escClose:!n.isDefined(e.rcdEscClose)||e.rcdEscClose,clickClose:!n.isDefined(e.rcdClickClose)||e.rcdClickClose,autoClose:n.isDefined(e.rcdAutoClose)&&parseInt(e.rcdAutoClose,10)?e.rcdAutoClose:0,class:n.isDefined(e.rcdClass)?e.rcdClass:"",trigger:{type:n.isString(e.rcdTrigger)?e.rcdTrigger:void 0,val:n.isDefined(e.rcdTriggerValue)?parseInt(e.rcdTriggerValue,10):0,disabled:!!e.rcdTriggerDisabled},open:!1};t.id&&(o.id=t.id);var l=n.isDefined(e.rcdData)?e.rcdData:null,r={selectedView:n.isDefined(e.rcdSelectedView)?e.rcdSelectedView:""};i.bind("click",function(){o.open=!0,c.open(o,l,r).then(function(e){console.log(e),console.log(o)},function(e){console.log(e),console.log(o)}),o.open=!1}),o.trigger.type&&c.open(o,l,r).then(function(e){console.log(e),console.log(o)},function(e){console.log(e),console.log(o)}),e.$on("$destroy",function(){c.destroy(o)})}}}])}(angular),function(g){"use strict";var e=g.module("rcDialog");e.controller("rcDialogCtrl",["$scope","$location","$timeout","$log","rcDialogObj","rcDialogDataObj","rcDialogApiObj",function(i,e,t,o,l,r,c){var n,s,a=this,d=(n=e.search(),s=null,g.isDefined(n.selectedView)&&(g.isString(n.selectedView)&&(s=n.selectedView),e.search("selectedView",null)),s);g.extend(this,c),this.dialog=l,this.data=r,g.isDefined(this.selectedView)||(this.selectedView=null),d&&(this.selectedView=d),g.isDefined(this.dialog.autoClose)&&g.isNumber(this.dialog.autoClose)&&0<this.dialog.autoClose&&t(function(){a.closeDialog()},this.dialog.autoClose),this.closeDialog=function(e){g.isString(e)?e="close_"+e:g.isObject(e)&&(e.name="confirm"),i.closeThisDialog(e)},this.confirmDialog=function(e){g.isString(e)?e="confirm_"+e:g.isObject(e)&&(e.name="confirm"),i.confirm(e)},this.setSelectedView=function(e){this.selectedView||(this.selectedView=e)}}]),e.controller("rcDialogUibCtrl",["$scope","$location","$timeout","$log","rcDialogObj","rcDialogDataObj","rcDialogApiObj","$uibModalInstance",function(e,i,t,o,l,r,c,n){var s,a,d=this,u=(s=i.search(),a=null,g.isDefined(s.selectedView)&&(g.isString(s.selectedView)&&(a=s.selectedView),i.search("selectedView",null)),a);g.extend(this,c),this.dialog=l,this.data=r,g.isDefined(this.selectedView)||(this.selectedView=null),u&&(this.selectedView=u),g.isDefined(this.dialog.autoClose)&&g.isNumber(this.dialog.autoClose)&&0<this.dialog.autoClose&&t(function(){d.closeDialog()},this.dialog.autoClose),this.closeDialog=function(e){g.isString(e)?e="close_"+e:g.isObject(e)&&(e.name="close"),n.dismiss(e)},this.confirmDialog=function(e){g.isString(e)?e="confirm_"+e:g.isObject(e)&&(e.name="confirm"),n.close(e)},this.setSelectedView=function(e){this.selectedView||(this.selectedView=e)}}]),e.controller("rcDialogFoundationCtrl",["$scope","$location","$timeout","$log","rcDialogObj","rcDialogDataObj","rcDialogApiObj","$modalInstance",function(e,i,t,o,l,r,c,n){var s,a,d=this,u=(s=i.search(),a=null,g.isDefined(s.selectedView)&&(g.isString(s.selectedView)&&(a=s.selectedView),i.search("selectedView",null)),a);g.extend(this,c),this.dialog=l,this.data=r,g.isDefined(this.selectedView)||(this.selectedView=null),u&&(this.selectedView=u),g.isDefined(this.dialog.autoClose)&&g.isNumber(this.dialog.autoClose)&&0<this.dialog.autoClose&&t(function(){d.closeDialog()},this.dialog.autoClose),this.closeDialog=function(e){g.isString(e)?e="close_"+e:g.isObject(e)&&(e.name="close"),n.dismiss({$value:e})},this.confirmDialog=function(e){g.isString(e)?e="confirm_"+e:g.isObject(e)&&(e.name="confirm"),n.close({$value:e})},this.setSelectedView=function(e){this.selectedView||(this.selectedView=e)}}])}(angular,window),function(m){"use strict";var e=m.module("rcDialog");e.factory("rcDialogHelpers",["$rootScope","$log","$injector","$document","$window",function(t,e,i,o,l){return{getDefaultDialog:function(){return{id:"dialog_"+Math.random().toString(36).substr(2,16),theme:"",template:"",templateUrl:"",size:"large",animation:!0,backdrop:!0,escClose:!0,clickClose:!0,autoClose:0,class:"",testMode:!1,trigger:{type:void 0,val:0,disabled:!1},open:!0}},documentCheckScrollPercent:function(e){var i=m.element(o).height()-m.element(l).height(),t=parseFloat(i/100);return e<=parseInt(100-(i-m.element(l).scrollTop())/t,10)},sendEvent:function(e,i){e="rcDialog:"+e,m.element(document.body).triggerHandler(e,i),t.$broadcast(e,i)}}}]),e.factory("rcDialog",["$log","$injector","$q","$timeout","$window","rcDialogHelpers",function(r,c,n,s,a,d){var u=null,g={};function f(e,i,t){var o,l=n.defer();switch(e.theme){case"bootstrap":try{return m.module("ui.bootstrap"),u=c.get("$uibModal"),function(e,i,t){var o={size:"large"===e.size||"full"===e.size?"lg":"sm",animation:e.animation,backdrop:e.backdrop,keyboard:e.escClose,controllerAs:"rcDialogApi",controller:"rcDialogUibCtrl",resolve:{rcDialogObj:[function(){return e}],rcDialogDataObj:[function(){return i}],rcDialogApiObj:[function(){return t}]}};m.isString(e.template)&&e.template.length?o.template=e.template:o.templateUrl=e.templateUrl,!0===e.backdrop&&!1===e.clickClose&&(o.backdrop="static"),o.windowClass="rc-dialog-uibdialog "+e.class,o.backdropClass="rc-dialog-uibdialog-backdrop "+e.class;var l=u.open(o);return l.result.then(function(e){d.sendEvent("confirm",e)},function(e){d.sendEvent("close",e)}),l.result}(e,i,t)}catch(e){o.message='Error to open dialog with "ui.bootstrap".',o.error=e}break;case"foundation":try{return m.module("mm.foundation"),u=c.get("$modal"),function(e,i,t){var o={size:e.size,backdrop:e.backdrop,closeOnClick:e.clickClose,keyboard:e.escClose,controllerAs:"rcDialogApi",controller:"rcDialogFoundationCtrl",resolve:{rcDialogObj:[function(){return e}],rcDialogDataObj:[function(){return i}],rcDialogApiObj:[function(){return t}]}};m.isString(e.template)&&e.template.length?o.template=e.template:o.templateUrl=e.templateUrl,!0===e.backdrop&&!1===e.clickClose&&(o.backdrop="static"),o.windowClass="rc-dialog-zfdialog "+e.class;var l=u.open(o);return l.result.then(function(e){d.sendEvent("confirm",e)},function(e){d.sendEvent("close",e)}),l.result}(e,i,t)}catch(e){o.message='Error to open dialog with "mm.foundation".',o.error=e}break;default:try{return m.module("ngDialog"),u=c.get("ngDialog"),function(e,i,t){var o=null,l=null;switch(e.size){case"tiny":o="30%";break;case"small":o="50%";break;case"large":o="90%";break;case"full":o="100%",l="100vh";break;default:e.size="small",o="50%"}var r={width:o,height:l,ariaAuto:!0,name:"ngdialog-rc-dialog",disableAnimation:!e.animation,overlay:e.backdrop,showClose:!0,closeByDocument:e.clickClose,closeByEscape:e.escClose,controllerAs:"rcDialogApi",controller:"rcDialogCtrl",resolve:{rcDialogObj:[function(){return e}],rcDialogDataObj:[function(){return i}],rcDialogApiObj:[function(){return t}]},preCloseCallback:function(){}};m.isString(e.template)&&e.template.length?(r.template=e.template,r.plain=!0):(r.template=e.templateUrl,r.plain=!1),r.appendClassName="rc-dialog "+e.class;var c=u.openConfirm(r);return c.then(function(e){d.sendEvent("confirm",e)},function(e){d.sendEvent("close",e)}),c}(e,i,t)}catch(e){o.message='Error to open dialog with "ngDialog".',o.error=e}}return r.error(o.message),r.error(o.error),l.reject(o),l.promise}return{open:function(e,i,t){var o=n.defer(),l=o.promise;if(!0===(e=m.extend({},d.getDefaultDialog(),e)).open)return l=f(e,i,t);if(!0===e.trigger.disabled)return o.reject(!1),l;switch(e.trigger.type){case"seconds":var r=1e3*e.trigger.val;s(function(){l=f(e,i,t)},r);break;case"scroll":g[e.id]||(g[e.id]=function(){d.documentCheckScrollPercent(e.trigger.val)&&(m.element(a).unbind("scroll",g[e.id]),l=f(e,i,t))},m.element(a).bind("scroll",g[e.id]));break;case"onload":l=f(e,i,t);break;default:o.reject(!1)}return l},destroy:function(e){g[e.id]&&m.element(a).unbind("scroll",g[e.id])}}}])}(angular);